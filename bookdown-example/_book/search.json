[{"path":"index.html","id":"rap-workshop","chapter":"1 RAP Workshop","heading":"1 RAP Workshop","text":"document contains examples exercises DHSC Data Science RAP Workshop R. take :Reading dataManipulating dataPlotting dataCalculating statistics","code":""},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"intro-to-plotting-and-calculating-summary-statistics","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2 Intro to plotting and calculating summary statistics","text":"page take steps reading, filtering plotting data. generate summary statistics. next page exercise test knowledge.","code":""},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"dataset-background","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2.1 Dataset background","text":"obtain data needed exercise, use onsr package, reads data ONS using API. section, ’ll using data regarding online job adverts.ONS gives following information dataset:“Adzuna online job search engine collate information thousands different sources UK. range direct employers’ websites recruitment software providers traditional job boards thus providing comprehensive view current online job adverts.Adzuna working partnership ONS made data available analysis including online advert job descriptions, job titles, job locations, job categories salary information.data provided point--time estimate job adverts indexed Adzuna’s job search engine point data extraction.indices created based upon job adverts provided Adzuna. data includes information several million job advert entries month, live across UK, broken job category UK countries English regions.”","code":""},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"reading-in-the-data","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2.2 Reading in the data","text":"start reading selection libraries, collections pre-written code can use perform tasks us.packages following:onsr: reading data ONS APIdplyr: used manipulate datasetsstringr: use manipulate stringsreadr: allows us save dataframe csv fileWe can call ons_datasets function read various datasets. call ons_get() select job adverts data want. , can print column names dataset see data looks like. interested types jobs presented dataset, print unique values AdzunaJobsCategory column.","code":"library(onsr)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(readr)# read in info on ONS datasets and display\ndatasets <- ons_datasets()\nprint(datasets$id)\n\n# select a dataset\njob_ads <- ons_get(id = \"online-job-advert-estimates\")\n\n# print columns\nprint(colnames(job_ads))\n\n# print job types\nprint(unique(job_ads$AdzunaJobsCategory))"},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"filtering-data","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2.3 Filtering data","text":"use package dplyr clean data filter last year’s Health Social care jobs data. remove rows value NA filter job category time columns. can extract week number number (using stringr package) allow plotting data straightforward. Note, “v4_1” column index values look plot later.cleaned dataset, save csv.","code":"# remove NAs, filter by job category, filter to 2022\nhealth_jobs <- job_ads %>%\n  filter(!is.na(v4_1)) %>%\n  filter(AdzunaJobsCategory == \"Healthcare and Social care\") %>%\n  filter(Time == 2022)\n\n# extract week number and sort by\nhealth_jobs_sorted <- health_jobs %>%\n  mutate(week_no = str_extract(Week, \"[0-9]+\")) %>%\n  mutate(week_no = as.numeric(week_no)) %>%\n  arrange(week_no)# save data to csv\nwrite_csv(\n  health_jobs_sorted,\n  file = \"./output/health_jobs_data.csv\""},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"plotting-data","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2.4 Plotting data","text":"Now plot data using package ggplot2.read following packages:read csv just created:set plot - reading DHSC colours, plotting line index values set chart labels.save plotalt text","code":"library(readr)\nlibrary(ggplot2)health_jobs_sorted = read_csv(\"./output/health_jobs_data.csv\")# plot\n\nggplot() +\n  DHSCcolours::theme_dhsc() +\n  geom_line(\n    data = health_jobs_sorted,\n    aes(week_no, v4_1, colour = AdzunaJobsCategory),\n    linewidth = 1\n  ) +\n  theme(legend.position=\"none\") +\n  DHSCcolours::scale_colour_dhsc_d() +\n  labs(\n    title = \"Healthcare and Social care job adverts\",\n    subtitle = \"2022\",\n    x = \"Week number\",\n    y = \"Value\")# save the plot\nggsave(\"./output/health_jobs_chart.svg\",\n         height = 5,\n         width = 10,\n         units=\"in\",\n         dpi=300)"},{"path":"intro-to-plotting-and-calculating-summary-statistics.html","id":"generating-summary-stats","chapter":"2 Intro to plotting and calculating summary statistics","heading":"2.5 Generating summary stats","text":"Finally, generate summary statistics dataset.read now familiar packages:read data:calculate various stats:want filter dataset maximum minimum values find week occurred . start creating list now already defined variables maximum minimum mapped string, can print output .e. set max value string “maximum”. loop values, retrieve numerical value, filter dataset pull week number . print values along average median already calculated.gives us information dataset.next section, ’ll use techniques perform analysis different dataset.","code":"library(readr)\nlibrary(dplyr)health_jobs_sorted = read_csv(\"./output/health_jobs_data.csv\")# get stats\n\nminimum <- min(health_jobs_sorted$v4_1)\nmaximum <- max(health_jobs_sorted$v4_1)\naverage <- mean(health_jobs_sorted$v4_1)\nmedian <- median(health_jobs_sorted$v4_1)stats = list(\"minimum\" = maximum,\n             \"maximum\"= minimum)\n\n# get week values for stats, print\n\nfor (name in names(stats)) {\n  stat_value = stats[[name]]\n\n  week_no <- health_jobs_sorted %>%\n    filter(v4_1 == stats[[name]]) %>%\n    select(week_no) %>%\n    pull\n\n  print(paste(\"the \",name, \"value is\", stat_value, \"(week:\", week_no, \")\"))\n}\n\nprint(paste(\"the average value is\",round(average,1)))\nprint(paste(\"the median value is\",round(median)))"},{"path":"exercise.html","id":"exercise","chapter":"3 Exercise","heading":"3 Exercise","text":"section, test R skills completing exercise subjects covered previous page.Please complete following tasks:Download clean ONS data Education job adverts 2022.Download clean ONS data Education job adverts 2022.Plot time series chart vacancies, using DHSC colours.Plot time series chart vacancies, using DHSC colours.Establish weeks lowest highest index values respectfully teaching job adverts.Establish weeks lowest highest index values respectfully teaching job adverts.Calculate median mean index values Education job adverts 2022.Calculate median mean index values Education job adverts 2022.","code":""}]
